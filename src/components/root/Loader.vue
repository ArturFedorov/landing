<template>
  <div class="loader">
    <svg
      class="loader-cover" height="100%" width="100%" viewBox="0 0 1920 800" preserveAspectRatio="none">
      <path class="morph" d="M-8.00586 334.584C-8.00586 694.674 76.3178 909.55 -272.39 909.55C-843.123 909.55 -272.39 350.422 -272.39 176.068C-272.39 1.71408 -847.16 -291.759 -498.452 -291.759C-149.745 -291.759 -8.00586 -25.506 -8.00586 334.584Z"></path>
    </svg>

    <svg class="loader-logo"  viewBox="0 0 1685 154" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g clip-path="url(#clip0)">
        <path class="letter" d="M1602.09 0C1561.87 0 1529.32 34.4303 1529.32 76.928C1529.32 119.426 1561.94 153.856 1602.09 153.856C1642.31 153.856 1674.86 119.426 1674.86 76.928C1674.86 34.4303 1642.31 0 1602.09 0ZM1602.09 152.487C1571.19 152.487 1550.04 129.222 1550.04 76.8559C1550.04 26.435 1573.34 1.22451 1602.09 1.22451C1630.84 1.22451 1654.14 26.363 1654.14 76.8559C1654.14 130.23 1634.78 152.487 1602.09 152.487Z" fill="#877874"/>
        <path class="letter" d="M1544.95 149.606L1488.17 56.1113L1532.26 2.95322H1547.1V1.58466H1511.4V2.95322H1530.61L1455.91 92.9907V2.95322H1475.12V1.58466H1415.76V2.95322H1435.05V149.678H1415.76V151.047H1475.12V149.678H1455.91V95.0075L1473.19 74.1188L1519.07 149.606H1503.8V151.047H1560.65V149.606H1544.95Z" fill="#877874"/>
        <path class="letter" d="M1391.4 1.58466V2.95322H1410.83V118.561L1328.53 1.58466H1304.94L1308.45 6.48269V149.678H1289.03V151.047H1329.17V149.678H1309.82V8.49953L1410.83 152.271H1412.19V2.95322H1431.62V1.58466H1391.4Z" fill="#877874"/>
        <path class="letter" d="M1308.37 115.032C1307.86 134.192 1292.31 149.534 1273.16 149.678H1234.67V66.3396H1254.17C1264.85 66.4116 1273.52 74.9832 1273.81 85.7156V87.5164H1274.53V44.3704H1273.81V46.1712C1273.52 56.8316 1264.85 65.4752 1254.17 65.5472H1234.67V1.36858H1194.45V2.73714H1213.73V149.75H1194.45V151.119H1309.58V111.862H1308.37V115.032ZM1234.67 1.36858V2.73714H1273.16C1292.31 2.8812 1307.86 18.2236 1308.37 37.3835V40.6249H1309.58V1.36858H1234.67Z" fill="#877874"/>
        <path class="letter" d="M1164.07 1.36857V2.73714H1183.42V118.273L1101.19 1.29654H1077.61L1081.05 6.2666V149.39H1061.69V150.759H1101.84V149.39H1082.48V8.21141L1183.42 151.911H1184.79V2.73714H1204.21V1.36857H1164.07Z" fill="#877874"/>
        <path class="letter" d="M993.124 106.532H995.203C996.565 113.951 998.429 120.218 1000.58 125.332C1002.8 130.446 1005.24 134.624 1007.89 137.937C1010.55 141.251 1012.7 143.916 1015.49 146.005C1018.22 148.022 1022.02 149.678 1024.96 150.543C1027.89 151.335 1030.76 151.839 1033.49 151.983C1036.21 152.127 1038.79 152.199 1041.16 152.199C1047.83 152.199 1053.35 151.119 1057.65 148.886C1061.95 146.653 1065.53 142.907 1068.04 139.522C1070.55 136.137 1072.34 132.535 1073.35 128.573C1074.35 124.684 1074.85 121.01 1074.85 117.769C1074.85 112.943 1074.06 108.837 1072.42 105.38C1070.77 101.922 1068.69 99.0412 1066.18 96.5922C1063.67 94.2152 1060.87 92.1983 1057.93 90.6857C1054.99 89.1731 1052.13 88.0206 1049.47 87.1562L1027.18 81.6099C1016.93 78.1525 1009.68 71.9579 1004.45 66.3396C999.218 60.7212 996.565 53.1581 996.565 43.6501C996.565 37.4556 997.569 31.6932 999.576 26.435C1001.58 21.1048 1004.45 16.5669 1008.11 12.6773C1011.76 8.85968 1016.14 5.76239 1021.3 3.60149C1026.39 1.36857 1032.05 0.288116 1038.07 0.288116C1042.52 0.288116 1046.18 0.720296 1049.19 1.51263C1052.13 2.30495 1054.71 3.24134 1056.86 4.32179C1059.01 5.33021 1060.94 6.2666 1062.67 7.13096C1064.39 7.92329 1066.11 8.35547 1067.9 8.35547C1069.55 8.35547 1070.62 8.13938 1071.2 7.63517C1071.77 7.13096 1072.56 5.97848 1073.56 4.03367H1076.22V41.4172H1073.92C1073.13 36.4471 1071.84 31.6932 1070.05 27.0833C1068.19 22.4733 1065.82 17.4312 1062.95 13.9738C1060.01 10.4443 1056.5 7.63517 1052.41 5.47427C1048.33 3.31337 1043.52 2.30495 1038.07 2.30495C1035.06 2.30495 1031.69 2.73713 1028.04 3.67352C1024.38 4.53788 1020.94 6.12254 1017.79 8.28344C1014.63 10.5164 1011.98 14.334 1009.9 17.9355C1007.82 21.5369 1006.75 26.0748 1006.75 31.5491C1006.75 35.9429 1007.53 39.6885 1009.18 42.7858C1010.83 45.8831 1012.91 48.4761 1015.56 50.637C1018.14 52.7979 1021.08 54.5267 1024.31 56.0393C1027.54 57.4799 1030.76 58.7764 1034.06 59.8569L1057 67.7081C1059.37 68.5005 1062.45 69.6529 1066.11 71.0215C1069.76 72.3901 1073.35 74.4789 1076.86 77.2161C1080.37 79.9532 1083.31 83.6268 1085.75 88.1646C1088.19 92.7025 1089.48 98.4649 1089.48 105.524C1089.48 112.007 1088.4 118.129 1086.18 124.036C1083.96 129.87 1080.8 135.056 1076.57 139.522C1072.42 143.988 1067.33 147.589 1061.37 150.254C1055.42 152.92 1048.76 154.288 1041.3 154.288C1038.65 154.288 1036.28 154.288 1034.28 154.216C1032.27 154.144 1030.33 154 1028.61 153.712C1026.82 153.424 1025.1 153.136 1023.31 152.776C1021.51 152.415 1019.58 151.911 1017.43 151.263C1014.92 150.471 1012.19 149.462 1009.25 148.382C1006.32 147.301 1003.81 146.725 1001.66 146.725C999.791 146.725 998.429 147.157 997.784 147.949C997.067 148.742 996.494 149.894 995.992 151.263H993.124V106.532Z" fill="#877874"/>
        <path class="letter" d="M1005.12 149.678L950.495 1.80075L949.205 1.29654L895.364 149.606H881.097V150.975H911.495V149.606H896.869L914.721 100.338H965.981L984.191 149.606H967.63V150.975L1022.12 151.047V149.678H1005.12ZM915.223 99.0412L940.172 30.3966L965.551 99.0412H915.223Z" fill="#877874"/>
        <path class="letter" d="M942.466 150.11C935.655 149.462 930.35 142.835 929.848 134.552C928.988 120.434 931.784 105.02 923.109 92.7745C914.506 80.6015 913.789 80.6735 904.397 77.2161C901.099 75.9916 894.862 75.0552 890.202 74.4069C909.559 71.3096 923.252 55.9673 923.109 37.6717C922.965 17.3592 905.401 1.08045 883.105 1.00842L812.273 1.58466V2.95323L831.558 2.80917L832.777 149.678L813.491 149.822V151.191L872.853 150.687V149.318L853.639 149.462L852.994 75.2713L883.678 74.9832C885.542 74.9832 887.406 74.8391 889.127 74.551C893.787 75.8475 898.017 78.6567 901.673 83.8428C909.846 95.4397 906.62 117.481 908.484 129.942C910.491 143.195 919.237 151.983 931.712 152.992C940.888 153.712 950.065 151.191 955.514 143.484V142.979C952.574 147.733 947.484 150.615 942.466 150.11ZM852.42 2.59308L876.939 2.37699C898.518 6.55473 901.601 20.8167 901.745 37.8157C901.888 54.4546 899.02 69.0767 878.803 73.6866L853.066 73.9027L852.42 2.59308Z" fill="#877874"/>
        <path class="letter" d="M808.688 149.534L751.836 55.8952L795.999 2.73714H810.911V1.36858H775.064V2.73714H794.35L719.503 92.9186V2.73714H738.788V1.36858H679.284V2.73714H698.569V149.678H679.284V151.047H738.788V149.678H719.503V94.8634L736.853 73.9747L782.736 149.534H767.465V151.047H824.389V149.534H808.688Z" fill="#877874"/>
        <path class="letter" d="M617.485 149.678L562.855 1.87279L561.565 1.36858L507.724 149.678H493.457V151.047H523.855V149.678H509.23L527.081 100.41H578.341L596.551 149.678H579.99V151.047L634.476 151.119V149.75L617.485 149.678ZM527.583 99.0412L552.532 30.3966L577.911 99.0412H527.583Z" fill="#877874"/>
        <path class="letter" d="M464.709 1.08044V2.52104H484.209V118.489L401.62 1.08044H377.961L381.474 6.05051V149.678H362.046V151.047H402.265V149.678H382.836V7.99532L484.209 152.199H485.571V2.52104H505V1.08044H464.709Z" fill="#877874"/>
        <path class="letter" d="M355.378 115.032C354.876 134.192 339.319 149.534 320.177 149.678H281.679V66.3396H301.179C311.861 66.4116 320.536 74.9832 320.823 85.7156V87.5164H321.54V44.3704H320.823V46.1712C320.536 56.8316 311.861 65.4752 301.179 65.5472H281.679V1.36858H241.459V2.73714H260.745V149.75H241.459V151.119H356.597V111.862H355.378V115.032ZM281.75 1.36858V2.73714H320.249C339.391 2.8812 354.948 18.2236 355.45 37.3835V40.6249H356.669V1.36858H281.75Z" fill="#877874"/>
        <path class="letter" d="M234.577 111.79V115.032C234.075 134.192 218.518 149.534 199.376 149.678H160.877V2.73714H180.163V1.36858H120.658V2.73714H139.943V149.75H120.658V151.119H235.796V111.862H234.577V111.79Z" fill="#877874"/>
        <path class="letter" d="M113.919 115.032C113.417 134.192 97.8599 149.534 78.718 149.678H40.2193V66.3396H59.7196C70.4017 66.4116 79.0765 74.9832 79.3633 85.7156V87.5164H80.0802V44.3704H79.3633V46.1712C79.0765 56.8316 70.4017 65.4752 59.7196 65.5472H40.2193V1.36858H0V2.73714H19.2852V149.75H0V151.119H115.138V111.862H113.919V115.032ZM40.2193 1.36858V2.73714H78.718C97.8599 2.8812 113.417 18.2236 113.919 37.3835V40.6249H115.138V1.36858H40.2193Z" fill="#877874"/>
      </g>
      <defs>
        <clipPath id="clip0">
          <rect width="1787" height="154" fill="white"/>
        </clipPath>
      </defs>
    </svg>

    <svg
      class="loader-text"
      viewBox="0 0 821 59" fill="none"
      xmlns="http://www.w3.org/2000/svg"
      preserveAspectRatio="none">
      <g clip-path="url(#clip0)">
        <path class="letter2" d="M798.165 2.28973C801.855 2.28973 807.31 2.55598 811.427 5.32493C814.636 7.4549 817.417 11.6083 817.417 17.3592C817.417 25.6661 811.962 31.7897 803.673 32.3222L821 56.6038H813.62L797.042 32.8547H795.491V56.6038H789.448V2.28973H798.165ZM795.437 27.4233H799.288C806.828 27.4233 811.32 23.8556 811.32 17.4657C811.32 14.4305 810.411 11.4486 806.989 9.47836C804.529 8.09388 801.748 7.93414 799.127 7.93414H795.437V27.4233Z" fill="#877874"/>
        <path class="letter2" d="M721.584 30.352C721.584 14.1643 734.258 2.28973 749.981 2.28973C765.703 2.28973 778.378 14.1643 778.378 30.352C778.378 46.4865 765.81 58.4143 749.981 58.4143C734.205 58.4675 721.584 46.4865 721.584 30.352ZM727.787 30.352C727.787 42.8123 737.681 52.7166 749.927 52.7166C762.174 52.7166 772.067 42.759 772.067 30.352C772.067 17.945 762.174 7.98739 749.927 7.98739C737.681 7.98739 727.787 17.945 727.787 30.352Z" fill="#877874"/>
        <path class="letter2" d="M704.096 2.28973V50.9062H719.124V56.6038H698.053V2.28973H704.096Z" fill="#877874"/>
        <path class="letter2" d="M630.189 29.4467C630.189 13.259 642.864 1.38446 658.586 1.38446C674.309 1.38446 686.983 13.259 686.983 29.4467C686.983 45.5812 674.416 57.509 658.586 57.509C642.757 57.5623 630.189 45.5812 630.189 29.4467ZM636.393 29.4467C636.393 41.907 646.286 51.8114 658.533 51.8114C670.779 51.8114 680.673 41.8538 680.673 29.4467C680.673 17.0397 670.779 7.08211 658.533 7.08211C646.286 7.08211 636.393 17.0397 636.393 29.4467Z" fill="#877874"/>
        <path class="letter2" d="M622.007 14.2707C620.296 12.5668 617.675 10.5433 614.894 9.21208C612.007 7.9341 608.691 7.08211 605.482 7.08211C592.915 7.08211 583.556 17.1994 583.556 29.713C583.556 44.463 595.589 51.8646 605.536 51.8646C609.226 51.8646 612.809 50.7996 615.697 49.3619C618.798 47.8177 620.991 45.7942 622.007 44.7825V52.2906C615.964 56.6038 609.654 57.5623 605.589 57.5623C589.385 57.5623 577.406 45.3682 577.406 29.6597C577.406 13.472 589.599 1.38446 605.963 1.38446C609.226 1.38446 615.536 1.81045 622.06 6.76262V14.2707H622.007Z" fill="#877874"/>
        <path class="letter2" d="M498.632 56.6038V0L541.148 44.3565V2.28971H547.191V59.0532L504.675 14.6968V56.6038H498.632Z" fill="#877874"/>
        <path class="letter2" d="M484.568 2.28973V56.6038H478.525V2.28973H484.568Z" fill="#877874"/>
        <path class="letter2" d="M427.132 2.28973C430.822 2.28973 436.277 2.55598 440.394 5.32493C443.603 7.4549 446.384 11.6083 446.384 17.3592C446.384 25.6661 440.929 31.7897 432.64 32.3222L449.967 56.6038H442.587L426.009 32.8547H424.458V56.6038H418.415V2.28973H427.132ZM424.458 27.4233H428.308C435.849 27.4233 440.341 23.8556 440.341 17.4657C440.341 14.4305 439.432 11.4486 436.009 9.47836C433.549 8.09388 430.768 7.93414 428.148 7.93414H424.458V27.4233Z" fill="#877874"/>
        <path class="letter2" d="M407.291 7.98739H385.044V24.1219H406.65V29.8195H385.044V50.9062H407.291V56.6038H379.001V2.28973H407.291V7.98739Z" fill="#877874"/>
        <path class="letter2" d="M357.556 7.98739V56.6038H351.513V7.98739H338.251V2.28973H370.819V7.98739H357.556Z" fill="#877874"/>
        <path class="letter2" d="M321.031 7.98739V56.6038H314.988V7.98739H301.725V2.28973H334.24V7.98739H321.031Z" fill="#877874"/>
        <path class="letter2" d="M296.484 7.98739H274.237V24.1219H295.842V29.8195H274.237V50.9062H296.484V56.6038H268.194V2.28973H296.484V7.98739Z" fill="#877874"/>
        <path class="letter2" d="M234.663 2.28973C237.711 2.28973 243.166 2.55598 247.177 5.69768C248.888 6.97565 252.097 10.3303 252.097 16.9332C252.097 19.5957 251.509 24.3349 246.696 27.5831C254.29 29.4468 257.071 36.0497 257.071 41.2681C257.071 46.4865 254.45 50.6932 251.509 52.9829C247.177 56.3908 242.204 56.5506 238.407 56.5506H224.823V2.28973H234.663ZM230.92 26.1453H235.519C238.727 26.1453 246.214 25.5063 246.214 17.093C246.214 8.14713 237.391 7.98739 235.679 7.98739H230.92V26.1453V26.1453ZM230.92 50.9062H237.872C241.401 50.9062 244.824 50.6399 247.444 48.6164C249.584 47.0722 251.028 44.3565 251.028 41.1083C251.028 36.7951 248.514 34.2924 246.375 33.121C244.343 32.0027 241.455 31.4702 237.123 31.4702H230.92V50.9062V50.9062Z" fill="#877874"/>
        <path class="letter2" d="M187.816 13.046C187.067 11.555 185.837 9.95756 184.607 8.99908C183.538 8.20034 181.559 7.13536 178.457 7.13536C173.056 7.13536 169.313 10.4901 169.313 15.4955C169.313 17.6254 169.901 18.8502 171.345 20.2346C173.003 21.8854 175.035 22.7373 177.067 23.6426L182.308 25.9323C185.516 27.3168 188.458 28.8077 190.704 31.0442C193.485 33.8132 194.608 37.0081 194.608 40.8953C194.608 50.9061 187.174 57.5623 177.334 57.5623C173.751 57.5623 169.259 56.8168 165.462 53.1426C162.788 50.5334 161.13 46.8059 160.382 43.5577L166.264 41.907C166.692 44.7825 167.976 47.1787 169.526 48.8294C171.88 51.1724 174.607 51.8646 177.388 51.8646C184.821 51.8646 188.351 46.5929 188.351 41.1083C188.351 38.6588 187.602 36.5289 185.677 34.7716C184.126 33.2807 181.987 32.3222 179.153 31.0442L174.34 28.7545C172.2 27.796 169.526 26.6245 167.066 24.2816C164.713 21.9919 163.323 19.4892 163.323 15.389C163.323 7.02886 169.794 1.38446 178.618 1.38446C181.987 1.38446 184.661 2.02345 187.388 3.83392C189.581 5.32489 191.453 7.50811 192.683 9.85107L187.816 13.046Z" fill="#877874"/>
        <path class="letter2" d="M149.365 2.28973V56.6038H143.322V2.28973H149.365Z" fill="#877874"/>
        <path class="letter2" d="M113.16 7.98739H90.9132V24.1219H112.518V29.8195H90.9132V50.9062H113.16V56.6038H84.8702V2.28973H113.16V7.98739Z" fill="#877874"/>
        <path class="letter2" d="M74.228 7.98739H55.4036V24.0154H73.5328V29.713H55.4036V56.6038H49.3605V2.28973H74.228V7.98739Z" fill="#877874"/>
        <path class="letter2" d="M35.3492 2.28973V56.6038H29.2527V2.28973H35.3492Z" fill="#877874"/>
        <path class="letter2" d="M6.04306 2.28973V50.9062H21.0705V56.6038H0V2.28973H6.04306Z" fill="#877874"/>
      </g>
      <defs>
        <clipPath id="clip0">
          <rect width="821" height="59" fill="white"/>
        </clipPath>
      </defs>
    </svg>



  </div>
</template>

<script lang="ts">
import Vue from 'vue';
import {AnimationService} from '@/shared/services/animation.service';
export default Vue.extend({
  name: 'Loader',
  mounted(): void {
    AnimationService.timeLine({
      duration: 1.5
    }).from('.letter', {
      opacity: 0,
      x: -10,
      stagger: -0.1,
      ease: AnimationService.easing.power1.easeInOut
    }).from('.letter2', {
      duration: 0.5,
      delay: -1.5,
      rotate: 5,
      opacity: 0,
      y: 3,
      stagger: 0.1,
      ease: AnimationService.easing.power1.easeInOut,
      onComplete: () => this.animate()
    }).to('.letter, .letter2', {
      delay: 0.6,
      fill: '#FF0092'
    }).to('.letter', {
      duration: 1,
      delay: 0.6,
      fill: '#0455BF',
      stagger: 0.05,
      scale: 0.95,
      ease: AnimationService.easing.power1.easeInOut
    }).to('.loader', {
      delay: -1.5,
      backgroundColor: '#ffffff'
    });
  },
  methods: {
    animate() {
      const timeline = AnimationService.anime.timeline({
        easing: 'easeInOutQuint',
        duration: 1300,
        loop: false
      });

      timeline
        .add({
          targets: '.morph',
          d: [
            {
              value: 'M2764.13 1298.47C3769.95 2366.54 1063.09 2281.44 714.381 2281.44C143.648 2281.44 -236.817 404.758 -236.817 230.404C-236.817 56.0499 661.042 -499.817 1682.1 -499.817C2436.47 -499.817 1758.3 230.404 2764.13 1298.47Z'
            }],
          easing: 'easeInOutCubic'
        })
        .add({
          targets: '.morph',
          d: [
            {
              value: 'M-8.00586 334.584C-8.00586 694.674 76.3178 909.55 -272.39 909.55C-843.123 909.55 -272.39 350.422 -272.39 176.068C-272.39 1.71408 -847.16 -291.759 -498.452 -291.759C-149.745 -291.759 -8.00586 -25.506 -8.00586 334.584Z'
            }],
          easing: 'easeInCubic'
        });

      timeline.play();
    }
  }
});
</script>

<style lang="scss" scoped>
  .loader {
    position: fixed;
    background-color: $brown-light;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transform-origin: top right;
    padding: 2em;

    &-cover {
      fill: $blue;
      bottom: 0;
      right: 0;
      top: 0;
      position: fixed;
      z-index: -1;
    }

    &-logo {
      max-width: 100%;
      margin-bottom: 50px;

      @media ($desktop) {
        margin-bottom: 30px;
      }

      @media ($tablet) {
        margin-bottom: 20px;
      }
    }

    &-text {
      width: 100%;
      max-width: 800px;

      @media ($desktop) {
        max-width: 600px;
      }

      @media ($tablet) {
        max-width: 500px;
      }

      @media ($mobile) {
        max-width: 200px;
      }
    }

    .letter2 {
      transform-origin: top left;
    }
  }
</style>
